"use strict";var app=angular.module("spForums",["ngResource","ngRoute","angularFileUpload","services"]).config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"templates/index.html"}).when("/login",{templateUrl:"static/partials/login.html",controller:loginController,controllerAs:"login"}).when("/register",{templateUrl:"static/partials/register.html",controller:registerController,controllerAs:"register"}).when("/user",{templateUrl:"static/partials/upload.html",controller:uploadController,controllerAs:"upload"}).when("/paper/",{templateUrl:"static/partials/paperlist.html",controller:paperController}).when("/paper/:paperId",{templateUrl:"static/partials/paper.html",controller:abstController,controllerAs:"abst"}).when("/logout",{templateUrl:"static/partials/logout.html",controller:logoutController}),t.html5Mode(!0)}]);app.controller("appController",["$scope","Session",function(e,t){e.currentUser=null,e.setUser=function(){e.currentUser=t.getUser()},e.$on("session:created",function(t,r){console.log("created",r),e.setUser()}),e.$on("session:destroyed",function(t,r){console.log("destroyed",r),e.setUser()})}]).run(["LoginState","Session",function(e,t){function r(e){for(var t in e)return!1;return!0}e.login().then(function(e){0==r(e.data)&&t.create(e.data)}),function(e){}}]);