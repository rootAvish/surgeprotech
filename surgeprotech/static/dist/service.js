"use strict";angular.module("services",[]).service("Session",function(e){this.create=function(t){this.userId=t.u_id,this.userName=t.Name,this.userRole=t.role,this.paper=t.paper,e.$broadcast("session:created",this)},this.destroy=function(){this.userId=null,this.userName=null,this.userRole=null,this.paper=null,e.$broadcast("session:destroyed")},this.getUser=function(){return{userId:this.userId,userName:this.userName,userRole:this.userRole,paper:this.paper}}}).factory("AuthService",["$http","Session",function(e,t){var r={};return r.login=function(r){return e({method:"POST",url:"/api/login",data:r,headers:{"Content-type":"application/json"}}).then(function(e){return t.create(e.data),e})},r.getUser=function(){return t.userId},r}]).factory("Papers",["$resource",function(e){var t={};return t.getPaper=function(){return e("/api/paper",{},{get:{url:"/api/paper/:paperId",params:{paperId:"@paperId"}}})},t}]).factory("Comments",["$http",function(e){var t={};return t.getComments=function(t){return e({method:"GET",url:"/api/comment",params:{paperId:t}})},t}]).factory("LoginState",["$http",function(e){var t={};return t.login=function(){return e({url:"/api/user",method:"GET",params:{}})},t}]).factory("RegisterService",["$http","Session",function(e,t){var r={};return r.register=function(r){return e({method:"POST",url:"/api/user",data:r,headers:{"Content-Type":"application/json"}}).success(function(e){return console.log(e),1!=e.success?!1:void t.create({Name:r.name,u_id:e.userId,role:e.userRole})})},r}]).factory("Logout",["$http",function(e){var t={};return t.logout=function(){return e({method:"GET",url:"/api/logout"})},t}]).factory("Review",["$http",function(e){var t={};return t.add=function(t){return e({method:"POST",url:"/api/comment/",data:t,headers:{"Content-Type":"application/json"}})},t}]).factory("UploadAbstract",["$resource",function(e){return e("/api/paper",{},{})}]);